(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e70905ca"],{1271:function(e,t,n){"use strict";var r=n("a3d7"),a=n.n(r);a.a},"3e96":function(e,t,n){e.exports=n.p+"img/winner-badge.28ca623d.png"},"44f0":function(e,t,n){e.exports=n.p+"img/loser-badge.2e6dc667.png"},5709:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{title:"View challenge"},on:{cancel:function(t){return e.$emit("close-dialog")}}},[e.isReady?[n("p",[e.isReady?n("b",[e._v(e._s(e.challenger.name))]):e._e(),e._v(" challenged "),n("b",[e._v(e._s(e.opponent.name))]),e._v(" to a fight :o ")]),n("div",{staticClass:"challenge-details"},[n("div",{staticClass:"card-container"},[e.result?n("FightResultBadge",{attrs:{badge:e.result.challengerWon?"winner":"loser"}}):e._e(),n("CryptomonCard",{attrs:{cryptomon:e.challenger,simple:!0}})],1),n("span",{staticClass:"vs"},[e._v("vs.")]),n("div",{staticClass:"card-container"},[e.result?n("FightResultBadge",{attrs:{badge:e.result.opponentWon?"winner":"loser"}}):e._e(),n("CryptomonCard",{attrs:{cryptomon:e.opponent,simple:!0}})],1)]),!e.result&&e.isOpponentOwner?n("p",[e._v("Bet "),n("b",[e._v(e._s(e.stake))]),e._v(" ETH?")]):e._e(),!e.result&&e.isOpponentOwner?n("div",{staticClass:"button-group"},[n("button",{on:{click:e.acceptChallenge}},[e._v("Challenge accepted.")]),n("button",{staticClass:"bg-red",on:{click:e.rejectChallenge}},[e._v("Reject challenge")])]):e._e(),!e.result&&e.isChallengerOwner?n("div",{staticClass:"button-group"},[n("button",{staticClass:"bg-red",on:{click:e.withdrawChallenge}},[e._v("Withdraw from challenge")])]):e._e()]:n("p",[e._v("Loading...")])],2)},a=[],s=(n("d3b7"),n("25f0"),n("96cf"),n("1da1")),i=n("d4ec"),o=n("bee2"),c=n("99de"),l=n("7e84"),u=n("262e"),h=n("9ab4"),p=n("2fe1"),g=n("60a3"),d=n("7248"),f=n("444a"),b=n("2ada"),w=n("fc60"),v=n("b635"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{staticClass:"badge",attrs:{src:e.imageUrl,alt:e.badge}})},m=[],_=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"imageUrl",get:function(){switch(this.badge){case"winner":return n("3e96");case"loser":return n("44f0");default:throw new TypeError}}}]),t}(g["c"]);Object(h["a"])([Object(g["b"])(String)],_.prototype,"badge",void 0),_=Object(h["a"])([p["b"]],_);var k=_,C=k,O=(n("e210"),n("2877")),j=Object(O["a"])(C,y,m,!1,null,"22d7e867",null),I=j.exports,x=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.result=null,e.challenge=null,e._opponentId=null,e._challengerId=null,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init()}},{key:"init",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.cryptomon.challenge){e.next=4;break}this.challenge=this.cryptomon.challenge,e.next=7;break;case 4:return e.next=6,this.findChallengeByChallengerId(this.cryptomon.id);case 6:this.challenge=e.sent;case 7:if(null!==this.challenge){e.next=9;break}throw new TypeError;case 9:return this._opponentId=this.challenge.opponentId,this._challengerId=this.challenge.challengerId,e.next=13,this.loadMissingCryptomons();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"findChallengeByChallengerId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.$store.getters[f["a"].GetChallengeByChallengerId](t),!n){e.next=3;break}return e.abrupt("return",n);case 3:return r=this.$store.state.game,e.next=6,r.findChallengeByChallengerId(t);case 6:if(a=e.sent,a){e.next=9;break}throw new TypeError;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadMissingCryptomons",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._challengerId&&this._opponentId){e.next=2;break}throw new TypeError;case 2:return t=[],this.challenger||t.push(this._challengerId),this.opponent||t.push(this._opponentId),e.next=7,this.$store.dispatch(w["a"].FetchCryptomonsByIds,t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"acceptChallenge",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this.challenge&&null!==this._opponentId){e.next=2;break}throw new TypeError;case 2:return t=this.challenge.stake,n=this.$store.state.game,n.onFightResult(this._opponentId,(function(e){r.result=e})),e.next=7,this.$store.dispatch(w["a"].AcceptChallenge,{id:this._opponentId,stake:t});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rejectChallenge",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._opponentId){e.next=2;break}throw new TypeError;case 2:return e.next=4,this.$store.dispatch(w["a"].RejectChallenge,this._opponentId);case 4:this.$emit("close-dialog");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"withdrawChallenge",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._opponentId){e.next=2;break}throw new TypeError;case 2:return e.next=4,this.$store.dispatch(w["a"].WithdrawChallenge,this._opponentId);case 4:this.$emit("close-dialog");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isReady",get:function(){return!!this.challenger&&!!this.opponent}},{key:"challenger",get:function(){return null===this._challengerId?null:this.$store.getters[f["a"].GetCryptomonById](this._challengerId)}},{key:"opponent",get:function(){return null===this._opponentId?null:this.$store.getters[f["a"].GetCryptomonById](this._opponentId)}},{key:"stake",get:function(){return this.challenge?this.$store.state.web3.utils.fromWei(this.challenge.stake.toString(),"ether"):"0"}},{key:"defaultAccount",get:function(){return this.$store.getters[f["a"].DefaultAccount]}},{key:"isOpponentOwner",get:function(){var e;return(null===(e=this.opponent)||void 0===e?void 0:e.owner)===this.defaultAccount}},{key:"isChallengerOwner",get:function(){var e;return(null===(e=this.challenger)||void 0===e?void 0:e.owner)===this.defaultAccount}}]),t}(g["c"]);Object(h["a"])([Object(g["b"])(b["a"])],x.prototype,"cryptomon",void 0),x=Object(h["a"])([Object(p["b"])({components:{FightResultBadge:I,CryptomonCard:v["a"],Dialog:d["a"]}})],x);var R=x,$=R,B=(n("1271"),Object(O["a"])($,r,a,!1,null,"5ddd9bb0",null));t["default"]=B.exports},a3d7:function(e,t,n){},a723:function(e,t,n){},e210:function(e,t,n){"use strict";var r=n("a723"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-e70905ca.a32eed0c.js.map